<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<link rel="stylesheet" type="text/css" href="../css/calculator.css" />
<!-- 	<h:outputScript library="js" name="basic.js" /> -->
</h:head>
<h:body>


	<div class="ui-grid-b">
		<div class="ui-block-a">
			<div
				style="width: 250px; height: 200px; overflow: auto; margin-right: 30;">
				<p:panel class="est" id="horizontal" header="Estatística">
					<!-- toggleable="true" toggleOrientation="horizontal" -->
					<h:form>
						<ul>
							<ui:repeat value="#{estatistica.resultado}" var="item">
								<li>#{item}</li>
							</ui:repeat>
						</ul>
					</h:form>
				</p:panel>
			</div>
			<div
				style="min-width: 250px; height: 200px; overflow: auto; margin-top: 20px;">

				<p:panel class="est" id="basic" header="Histórico de Operações">
					<h:form id="historico">
	
					
				<h:dataTable value="#{pickListView.historico}" var="historico">


							<h:column>
								<f:facet name="header">Expo</f:facet>
								<f:ajax event="click" render="teste:basicdisplay"
									listener="#{basica.noDisplay(historico.hist)}">
									<h:commandLink value="#{historico.hist}" />
								</f:ajax>

							</h:column>
							<h:column>
								<f:facet name="header">Res</f:facet>
								<f:ajax event="click" render="teste:basicdisplay"
									listener="#{basica.noDisplay(historico.resultado)}">
									<h:commandLink value="#{historico.resultado}" />
								</f:ajax>
							</h:column>
							<h:column>
								<f:facet name="header"> Tempo </f:facet>
								<h:outputText value="#{historico.tempo}" />
							</h:column>
						</h:dataTable> 
					</h:form>
				</p:panel>
			</div>
		</div>

		<div class="ui-block-b">
			<div class="calccontainer" style="vertical-align: middle;">
				<div class="box2">
				
					<h:panelGroup id="scientific-panel">
						<h:panelGrid rendered="#{basica.panel1 == 'false'}" columns="4"
							cellpadding="0">
							<f:facet name="header">


								<p:selectOneRadio value="#{basica.btnradio}"
									style="color:white; font-size: 18px;">
									<f:selectItem itemValue="rad" itemLabel="Radianos" />
									<f:selectItem itemValue="deg" itemLabel="Graus" />
								</p:selectOneRadio>
							</f:facet>
							<f:ajax event="click" render="teste:basicdisplay"
								listener="#{basica.keyAdd}">
								<h:commandButton title="Seno, sin(x)" id="btnsin"
									styleClass="btn-numeric" value="sin" />
								<h:commandButton title="Arco Seno, asin(x)" id="btnasin"
									class="btn-numeric" value="asin" />
								<h:commandButton title="Seno Hiperbólico, sinh(x)" id="btnsinh"
									class="btn-numeric" value="sinh" />
								<h:commandButton title="Fatorial, x! ex:!(5)" id="btnfact"
									styleClass="btn-numeric" value="!" />

								<h:commandButton title="Cosseno, cos(x)" id="btncos"
									class="btn-numeric" value="cos" />
								<h:commandButton title="Arco Cosseno, acos(x)" id="btnacos"
									class="btn-numeric" value="acos" />
								<h:commandButton title="Cosseno Hiperbólico, cosh(x)"
									id="btncosh" class="btn-numeric" value="cosh" />
								<h:commandButton id="btnpi" class="btn-numeric" value="&#960;" />

								<h:commandButton title="Tangente, tan(x)" id="btntan"
									class="btn-numeric" value="tan" />
								<h:commandButton title="Arco Tangente, atan(x)" id="btnatan"
									styleClass="btn-numeric" value="atan" />
								<h:commandButton title="Tangente Hiperbólica, tanh(x)"
									id="btntanh" class="btn-numeric" value="tanh" />
								<h:commandButton title="Ex: 4*e, 15e5" id="btne"
									styleClass="btn-numeric" value="e" />
								<h:commandButton id="btnlog" styleClass="btn-numeric"
									value="log" />
								<h:commandButton
									title="Logaritmo de um número x de base 2, log2(x)"
									id="btnlog2" class="btn-numeric" value="log2" />
								<h:commandButton
									title="Logaritmo de um número x de base 10, log10(x)"
									id="btnlog10" class="btn-numeric" value="log10" />
								<h:commandButton title="Raiz y de x, Ex: y^(1/x)"
									id="btn-x-root-y" styleClass="btn-numeric"
									value="&#696;&#8730;x" />


								<h:commandButton title="Valor absoluto" id="btnabs"
									styleClass="btn-numeric" value="abs" />
								<h:commandButton title="Arredondamento Superior" id="btnceil"
									styleClass="btn-numeric" value="ceil" />
								<h:commandButton title="Arredondamento Inferior" id="btnfloor"
									class="btn-numeric" value="floor" />
								<h:commandButton title="Raíz cúbica, x^(1/3)" id="btncbrt"
									class="btn-numeric" value="3 &#8730;x" />

								<h:commandButton id="btn-xquad" styleClass="btn-numeric"
									value="x2" />
								<h:commandButton id="btn-xcub" styleClass="btn-numeric"
									value="x3" />
								<h:commandButton id="btn-x-power-y" class="btn-numeric"
									value="x&#696;" />

								<h:commandButton title="Funcao exponencial, e^x" id="btnexp"
									styleClass="btn-numeric" value="exp" />
							</f:ajax>
						</h:panelGrid>
					</h:panelGroup>
				</div>
				<!-- 	<div class="ui-grid-col-1"></div> -->
				<div class="box2">
					<h:form id="teste">
						<h:panelGrid columns="5" cellpadding="0">
							<f:facet name="header">

								<p:selectOneRadio value="#{basica.panel1}" style="color:white">
									<f:selectItem itemLabel="Básica" itemValue="true"
										style="font-size:20px" />
									<f:selectItem itemLabel="Científica" itemValue="false" />
									<f:ajax render="scientific-panel" />
								</p:selectOneRadio>
							</f:facet>

							<f:facet name="header">

								<h:inputTextarea id="basicdisplay"
									styleClass="txtareabasicdisplay"
									title="Preencha aqui a sua expressao matemática"
									value="#{basica.display}" readonly="true" />
							</f:facet>


							<f:ajax event="click" render="teste:basicdisplay"
								listener="#{basica.keyAdd}">
								<h:commandButton id="btn7" styleClass="btn-numericnb" value="7" />
								<h:commandButton id="btn8" styleClass="btn-numericnb" value="8" />
								<h:commandButton id="btn9" styleClass="btn-numericnb" value="9" />
								<h:commandButton title="Raiz quadrada, sqrt(x)" id="btnsqrt"
									class="btn-numeric" value="&#8730;" />
								<h:commandButton id="btnplus" class="btn-numeric" value="+" />

							</f:ajax>
							<f:ajax event="click" render="teste:basicdisplay"
								listener="#{basica.keyAdd}">
								<h:commandButton id="btn4" class="btn-numericnb" value="4" />
								<h:commandButton id="btn5" class="btn-numericnb" value="5" />
								<h:commandButton id="btn6" class="btn-numericnb" value="6" />
								<h:commandButton id="btncoma" class="btn-numeric" value="." />
								<h:commandButton id="btnminus" class="btn-numeric" value="-" />
							</f:ajax>
							<f:ajax event="click" render="teste:basicdisplay"
								listener="#{basica.keyAdd}">
								<h:commandButton id="btn1" styleClass="btn-numericnb" value="1" />
								<h:commandButton id="btn2" class="btn-numericnb" value="2" />
								<h:commandButton id="btn3" styleClass="btn-numericnb" value="3" />
							</f:ajax>
							<f:ajax event="click" execute="btn-equal"
								render="teste:basicdisplay horizontal basic"
								listener="#{basica.btnequal}">
								<h:commandButton id="btn-equal" class="btn-numeric" value="=" />
							</f:ajax>
							<f:ajax event="click" render="basicdisplay"
								listener="#{basica.keyAdd}">
								<h:commandButton id="btntimes" class="btn-numeric" value="*" />
							</f:ajax>
							<f:ajax event="click" render="basicdisplay"
								listener="#{basica.keyAdd}">
								<h:commandButton id="btnopen" styleClass="btn-numeric" value="(" />
								<h:commandButton id="btn0" styleClass="btn-numericnb" value="0" />
								<h:commandButton id="btnclose" class="btn-numeric" value=")" />
								<h:commandButton id="btnclear" class="btn-numeric" value="C" />
								<h:commandButton id="btndivby" class="btn-numeric" value="/" />
							</f:ajax>
						</h:panelGrid>

					</h:form>
				</div>
			</div>
		</div>
		<div class="ui-block-c">
			<p:panel class="est" id="chat" header="Chat">
				<div style="width: 200px; min-height: 200px; overflow: auto;">

					<h:form id="refresh">
						<p:poll interval="1" update="chatroom horizontal" />
					</h:form>



					<h:form prependId="false">
						<h:panelGroup id="chatroom">
							<ul id="saidaConversa">
								<ui:repeat value="#{chatEntrada.conversa}" var="item">
									<li>#{item}</li>
								</ui:repeat>
							</ul>
						</h:panelGroup>
						<h:inputText value="#{mensagem.txt}" id="idTxt"
							styleClass="boxlogin" />
						<f:ajax event="click" execute="idTxt send" render="@form"
							listener="#{chatEntrada.actualiza}">
							<h:commandButton id="send" value="Send"></h:commandButton>
						</f:ajax>
					</h:form>
				</div>
			</p:panel>
		</div>
	</div>


</h:body>


</html>