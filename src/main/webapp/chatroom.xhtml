<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
<h:body>

	<ui:composition>
		<div id="chat">
			<!-- Entrada mudou rendered e outro abaixo -->
			<h:form>

				<!-- Login -->
				<h:form rendered="#{chat.login}">
					<h:form>
						<h:outputText value="Login" />
						<h:panelGrid columns="2">
							<h:outputText value="Name" />
							<h:inputText value="#{chat.name}" />
							<h:outputText value="Password" />
							<h:inputSecret value="#{chat.pass}" />
						</h:panelGrid>
						<h:commandButton value="Ok" action="#{chat.loginUser}" />
						<h:commandButton value="Sign Up"
							action="#{chat.setLogin(false)}" />
					</h:form>
				</h:form>

				<!-- Signup -->
				<h:form rendered="#{!chat.login}">
					<h:form>
						<h:outputText value="Sign Up" />
						<h:panelGrid columns="2">
							<h:outputText value="Name" />
							<h:inputText value="#{chat.name}" />
							<h:outputText value="Password" />
							<h:inputSecret value="#{chat.pass}" />
							<h:outputText value="Repeat Password" />
							<h:inputSecret value="#{chat.repeatPass}" />
						</h:panelGrid>
						<h:commandButton value="Ok" action="#{chat.signUp}" />
						<h:commandButton value="Login" action="#{chat.setLogin(true)}" />
					</h:form>
				</h:form>
			</h:form>

			<!-- Chat -->
			<f:ajax render="userChat">

				<h:form>

				<h:dataTable id="userChat" value="#{chat.userChat}"
						var="msg">
						<h:column>#{msg}</h:column>
					</h:dataTable>

				</h:form>

			</f:ajax>

			<h:form id="chatMessage">

				<!-- new message -->
				<h:form>
					<h:outputText value="#{chat.user.name}" />
					<label> says: </label>
					<h:inputText value="#{chat.message}" />
					<h:commandButton value="Send" action="#{chat.addMessage}" />
					<h:commandButton value="Logout" action="#{chat.logoutUser}" />
				</h:form>

			</h:form>

			<script src="js/timer.js" />
		</div>
	</ui:composition>

</h:body>
</html>